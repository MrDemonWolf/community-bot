---
title: Twitch Notifications
description: How the Discord bot monitors Twitch streams and sends notifications.
---

The Discord bot polls the Twitch Helix API every 90 seconds to check the status of monitored channels.

## How It Works

1. **Polling** — A BullMQ job (`check-twitch-streams`) runs every 90 seconds
2. **API Check** — For each guild's configured Twitch channels, the bot queries the Twitch Helix API for stream status
3. **State Change Detection** — The bot tracks previous stream state and only sends notifications on offline-to-online transitions
4. **Notification** — When a stream goes live, an embed is posted to the configured Discord channel with optional role ping

## Configuration

Each guild needs:

1. **A notification channel** — Set with `/twitch notifications set-channel`
2. **At least one monitored channel** — Added with `/twitch add`
3. **Optionally a ping role** — Set with `/twitch notifications set-role`

## Notification Embed

The live notification includes:

- Stream title
- Game/category
- Viewer count
- Stream thumbnail
- Link to the Twitch channel

## Per-Channel Overrides

Each monitored Twitch channel can have its own notification overrides, configured from the web dashboard's [Discord Settings](/docs/web-dashboard/discord-settings) page:

| Override | Description |
|----------|-------------|
| **Custom channel** | Post this channel's notifications to a different Discord channel than the default |
| **Custom role** | Ping a different role for this channel's notifications |
| **Custom embed** | Use a custom embed template built with the visual embed builder |
| **Update while live** | Edit the notification with updated viewer counts while the stream is live |
| **Delete when offline** | Delete the notification message when the stream goes offline |
| **Auto-publish** | Crosspost the notification if posted in an announcement channel |

When no overrides are set, the guild's default notification channel and role are used.

## Web Dashboard Integration

Guilds can be enabled or disabled from the web dashboard's Discord settings page (`/dashboard/discord`). When a guild has notifications disabled (`enabled: false`), it is skipped during stream checks. Settings changes made in the dashboard propagate to the Discord bot in real time via the `discord:settings-updated` EventBus event.

## Database Storage

Notification settings are stored in the `TwitchNotification` table, linked to `DiscordGuild`. Each guild can monitor multiple Twitch channels.
